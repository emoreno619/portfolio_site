/**
*	Horizon
*	Version: 1.0.1
*	URL: @ThemeMountain
*	Description: Reveal Plugin
*	Requires: jQuery 1.10+
*	Author: ThemeMountain
*	Copyright: Copyright 2013 ThemeMountain
*	License: Attribution-NonCommercial 3.0 (http://creativecommons.org/licenses/by-nc/3.0/)
*/
!function(a,e,t,i){"use strict";var n,s=function(e,i){var n=a.extend({},a.fn.horizon.tmhOpts,i);if(e=a(e),y)return e.css({opacity:1,visibility:"visible"}),!1;e.data("scrolling",!1).css("-webkit-backface-visibility","hidden");var s=(e.data("animate-in")+"").split(";");a.each(s,function(a,t){t=t.split(":");var i=t[0],n=t[1];"opacity"===i&&e.data("o",n),"scale"===i&&e.data("s",n),"easing"===i&&e.data("e",n),"transX"===i&&e.data("tx",parseFloat(n)),"transY"===i&&e.data("ty",parseFloat(n)),"transZ"===i&&e.data("tz",parseFloat(n)),"rotateX"===i&&e.data("rx",parseFloat(n)),"rotateY"===i&&e.data("ry",parseFloat(n)),"rotateZ"===i&&e.data("rz",parseFloat(n)),"duration"===i&&e.data("du",parseFloat(n)),"delay"===i&&e.data("de",parseFloat(n))}),a(t).on("scroll",function(){r(e,n)}),a(t).on("resize",function(){r(e,n)}),c(e,n),r(e,n)},r=function(a,e){a.data("scrolling")||(requestAnimationFrame(function(){o(a,e)}),a.data("scrolling",!0))},o=function(a,e){if(d(a,e)){var t=a.data("du")?a.data("du"):e.speed,i=a.data("de")?a.data("de"):0,n=a.data("e")?v[a.data("e")]:v[e.easing];p?l(a,1,0,0,0,0,0,0,1,t,i,n,e):a.css({visibility:"visible"}).stop().animate({opacity:1},e.speed,e.easingFallback,function(){e.inView&&e.inView()})}a.data("scrolling",!1)},d=function(e,i){var n=a(t).scrollTop(),s=n+a(t).height(),r=e.data("threshold")?parseFloat(e.data("threshold")):i.threshold,o=e.data("ty")?parseFloat(e.data("ty")):0,d=e.offset().top,l=e.offset().top-o,u=l+e.outerHeight()-e.outerHeight()*r,h=l+e.outerHeight()*r;return(d-n>a(t).height()||d-n<-e.outerHeight())&&(i.recurring&&c(e,i),i.outOfView&&i.outOfView()),s>=h&&u>=n},c=function(a){var e=a.data("o")?parseFloat(a.data("o")):0,t=a.data("tx")?parseFloat(a.data("tx")):0,i=a.data("ty")?parseFloat(a.data("ty")):0,n=a.data("tz")?parseFloat(a.data("tz")):0,s=a.data("rx")?parseFloat(a.data("rx")):0,r=a.data("ry")?parseFloat(a.data("ry")):0,o=a.data("rz")?parseFloat(a.data("rz")):0,d=a.data("s")?parseFloat(a.data("s")):1;a.css(p?{transition:"none",transform:"translate3d("+t+"px, "+i+"px, "+n+"px)rotate3d( 1, 0, 0, "+s+"deg )rotate3d( 0, 1, 0, "+r+"deg )rotate3d( 0, 0, 1, "+o+"deg )scale3d("+d+", "+d+", "+d+")",opacity:e,visibility:"hidden"}:{opacity:0})},l=function(e,t,i,n,s,r,o,d,c,l,u,h,p){var f={};f.transform="translate3d("+i+"px, "+n+"px, "+s+"px)rotate3d( 1, 0, 0, "+r+"deg)rotate3d( 0, 1, 0, "+o+"deg)rotate3d( 0, 0, 1, "+d+"deg)scale3d("+c+", "+c+", "+c+")",f.transitionProperty=b+", opacity",f.transitionDuration=l+"ms",f.transitionDelay=u+"ms",f.transitionTimingFunction=h,f.visibility="visible",f.opacity=t,e.css(f).on(g,function(e){e.stopPropagation(),a(this).off(g),p.inView&&p.inView()})},u=e.body||e.documentElement,h=u.style,p=h.transition!==i||h.WebkitTransition!==i||h.MozTransition!==i||h.MsTransition!==i||h.OTransition!==i,f=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var m in f)h[f[m]]!==i&&(n="-"+f[m].replace("Transform","").toLowerCase());var b=n+"-transform",g="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",v={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.42, 0, 0.58, 1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)",easeFastSlow:"cubic-bezier(.11,.69,.66,1.01)",easeBounceBack:"cubic-bezier(.18,1.92,.59,1.33)",easeBounceBackHard:"cubic-bezier(.8,1.91,0,.94)",easeHickUp:"cubic-bezier(.28,1.78,.01,0)"},y=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(y=!0),function(){for(var a=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[e[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[e[i]+"CancelAnimationFrame"]||t[e[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),s=t.setTimeout(function(){e(i+n)},n);return a=i+n,s}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(a){clearTimeout(a)})}(),a.fn.horizon=function(e){return this.each(function(){var t=a(this);if(!t.data("horizon")){var i=new s(this,e);t.data("horizon",i)}})},a.fn.horizon.tmhOpts={easing:"swing",easingFallback:"swing",speed:500,threshold:1,recurring:!0,inView:null,outOfView:null}}(jQuery,document,window);